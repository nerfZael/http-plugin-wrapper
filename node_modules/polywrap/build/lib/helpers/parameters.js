"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.fixParameters = void 0;
// Workaround for https://github.com/infinitered/gluegun/pull/464.
var intl_1 = require("../intl");
exports.fixParameters = function (parameters, booleanOptions) {
    var unexpectedStringOptions = Object.keys(booleanOptions)
        .filter(function (key) { return typeof booleanOptions[key] === "string"; })
        .map(function (key) { return ({ key: key, value: booleanOptions[key] }); });
    var optionNames = unexpectedStringOptions
        .map(function (_a) {
        var key = _a.key;
        return "--" + key.replace(/([A-Z])/, "-$1").toLowerCase();
    })
        .join(", ");
    if (unexpectedStringOptions.length > 1) {
        var unexpectedValueMessage = intl_1.intlMsg.lib_helpers_parameters_unexpectedValue({ options: "" + optionNames });
        throw new Error(unexpectedValueMessage);
    }
    else if (unexpectedStringOptions.length == 1) {
        var params = parameters.array || [];
        params.unshift(unexpectedStringOptions[0].value);
        return params;
    }
    else {
        return parameters.array || [];
    }
};
//# sourceMappingURL=parameters.js.map