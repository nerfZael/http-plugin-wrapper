{{#required}}
{{#toUpper}}{{type}}{{/toUpper}}::write(item, writer)
{{/required}}
{{^required}}
if item.is_some() {
    {{#toUpper}}{{type}}{{/toUpper}}::write(item.as_ref().as_ref().unwrap(), writer)
} else {
    writer.write_nil()
}
{{/required}}